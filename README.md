# HLS 算法编写练习

除了练习算法本身的编写以外，我还需要着重联系HLS编写的算法模块在Vivado中的调用和测试。这涉及到了不同接口的使用，对于我来说无疑是正需要的。

- [x] 1.1 定点数加法器
- [x] 1.2 查找最大值/最小值
- [ ] 2.1 FIR 滤波器
- [ ] 2.2 FFT（快速傅里叶变换）
- [ ] 3.1 图像灰度化
- [ ] 3.2 Sobel 边缘检测
- [ ] 4.1 矩阵乘法
- [ ] 4.2 矩阵转置
- [ ] 5.1 卷积层加速
- [ ] 5.2 ReLU + 最大池化
- [ ] 6.1 AES 加密算法
- [ ] 6.2 简单 RISC-V 核心

## 1 基础算法

熟悉HLS语法和接口

### 1.1 定点数加法器

- 目标：实现两个定点数加法，处理溢出和舍入。
- 注意：ap_fixed<16, 8>类型的定点数，其中16表示总位数，8表示小数位数。

### 1.2 查找最大值/最小值

- 目标：从流式输入中找出最大值。
- 注意：流水线设计、流式输入、循环优化

## 2 信号处理

练习流水线和并行计算

### 2.1 FIR 滤波器
- 目标：实现多抽头 FIR 滤波器，支持可配置系数
- HLS 技巧：`#pragma HLS ARRAY_PARTITION`（系数数组分割）、循环展开

### 2.2 FFT（快速傅里叶变换）
- 目标：实现基-2 FFT 算法，支持 256 点变换
- HLS 技巧：复数运算优化、蝶形运算并行化

## 3 图像处理

练习数据流和窗口操作

### 3.1 图像灰度化
- 目标：将 RGB 图像转换为灰度图（Y = 0.299R + 0.587G + 0.114B）
- HLS 技巧：流式接口（`hls::stream`）、定点数乘法优化

### 3.2 Sobel 边缘检测
- 目标：实现 3x3 Sobel 算子卷积，计算图像梯度
- HLS 技巧：行缓冲（Line Buffer）、滑动窗口生成

## 4 矩阵运算

练习并行计算和资源平衡

### 4.1 矩阵乘法
- 目标：实现 32x32 矩阵乘法，优化计算吞吐率
- HLS 技巧：`#pragma HLS LOOP_TILE`（分块计算）、`ARRAY_PARTITION`

### 4.2 矩阵转置
- 目标：实现高效转置（支持不同尺寸），避免 BRAM 访问冲突
- HLS 技巧：`#pragma HLS DATAFLOW`、双缓冲设计

## 5 机器学习相关

贴近自身背景

### 5.1 卷积层加速
- 目标：实现 3x3 卷积层，支持多通道输入输出
- HLS 技巧：并行乘加器（MAC）、输入/权重缓存设计

### 5.2 ReLU + 最大池化
- 目标：级联 ReLU 和 2x2 最大池化层
- HLS 技巧：数据流接口、窗口比较逻辑

## 6 综合应用

### 6.1 AES 加密算法
- 目标：实现 AES-128 加密，包括 S-Box 替换、行移位、列混淆
- HLS 技巧：查找表（LUT）优化、状态机设计

### 6.2 简单 RISC-V 核心
- 目标：实现支持基础指令（如 ADD, LOAD, STORE）的微型 CPU
- HLS 技巧：指令译码、流水线冲突处理
